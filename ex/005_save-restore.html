<!DOCTYPE html>
<html>
  <head>
    <title>Canvas</title>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <style>
      canvas {
            border: 1px solid black;
        }
    </style>
  </head>

  <body>
    <h1>Transform - save() restore()</h1>
    <canvas class="canvas" width="300" height="300"></canvas>

    <script>
      const canvas = document.querySelector('.canvas');
      const context = canvas.getContext('2d');

      context.fillRect(30, 30, 20, 20); //검은 사각형
      context.save(); // 현재 context 상태(fillStyle - 검정)를 저장 (상태1)

      context.fillStyle = '#30A4A4'; //청록색 설정
      context.fillRect(70, 70, 60, 60); 

      context.save(); // 현재 context 상태(fillStyle - 청록)를 저장 (상태2)

      context.fillStyle = 'white'; //하얀색 설정
      context.globalAlpha = 0.8; //투명도 0.8 지정 (상태3)
      context.beginPath();
      context.arc(100, 100, 20, 0, Math.PI*2, false); 
      context.fill();

      context.restore();  //가장 최근에 저장했던 것(fillStyle, globalAlpha - 청록,1)을 회복한다 - 보라에서 청록으로 되돌아감 (상태3 -> 상태2)

      context.beginPath();
      context.arc(180, 180, 40, 0, Math.PI*2, false);
      context.fill(); //큰 청록색 원

      context.restore(); // 가장 최근에 저장된 상태로 되돌아감 (상태2 -> 상태1) 

      context.fillRect(250,250, 20, 20); // 검은 원 



    </script>
  </body>
</html>









